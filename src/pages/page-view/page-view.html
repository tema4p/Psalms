<!--
  Generated template for the PageView page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title [ngClass]="{'irmologion' : (settings.textSource === 'cs' && !forceTitleRu)}">{{title}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="setBookMark()"
              [ngClass]="{'not-marked': !isMarked()}"
              *ngIf="navParams.data.kafisma">
        <ion-icon name="ios-bookmark"></ion-icon>
      </button>
      <button ion-button icon-only (click)="goSettings()">
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding [ngClass]="[settings.theme, displayOrientation]">

  <div id="contentContainer"
       (swipeleft)="goPage(page + 1)"
       (swiperight)="goPage(page - 1)"

       [ngClass]="{'irmologion' : (settings.textSource === 'cs'),
                   'noPerenos':(!settings.perenos),
                   'hyphens':  (settings.hyphens),
                   'justify':  (settings.justify),
                   'bookMode': (settings.bookMode)}"

       [ngStyle]="{'fontFamily': (settings.textSource === 'ru') ? settings.fontFamily : false,
                   'font-size': settings.fontSize + 'px',
                   'transform': 'translate3d(' + getTranslateX() + ', 0, 0)' }">

    <div [innerHTML]="content | safeHtml"></div>
    <button ion-button *ngIf="+kafisma > 1" (click)="goKafisma(kafisma - 1)">
      <ion-icon name="arrow-dropleft"></ion-icon>
      &nbsp;&nbsp;
      Кафизма {{+kafisma - 1}}
    </button>

    <button ion-button *ngIf="+kafisma < 20" (click)="goKafisma(kafisma + 1)">
      Кафизма {{1 + (+kafisma -0)}}
      &nbsp;&nbsp;
      <ion-icon name="arrow-dropright"></ion-icon>
    </button>

    <button ion-button (click)="goHome()">
      <ion-icon name="ios-home-outline"></ion-icon>
      &nbsp;&nbsp;
      На Главную
    </button>

  </div>



  <div class="pages-info" [ngClass]="{'hidden': (!enableInfo)}" *ngIf="settings.bookMode">
    <button ion-button icon-only [clear]="true"
            [ngClass]="{'disabled': (page === 0)}"
            (click)="goPage(page - 1)">
      <ion-icon name="arrow-dropleft"></ion-icon>
    </button>

    <button ion-button [clear]="true">
      {{page + 1}} / {{pagesTotal}}
    </button>

    <button ion-button icon-only [clear]="true"
            [ngClass]="{'disabled': (page + 1 === pagesTotal)}"
            (click)="goPage(page + 1)">
      <ion-icon name="arrow-dropright"></ion-icon>
    </button>
  </div>
</ion-content>
